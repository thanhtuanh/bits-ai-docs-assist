<div class="upload-container">
  <h1 class="title">ğŸ¤– AI Document Assistant</h1>

  <!-- Datei-Upload Sektion -->
  <div class="upload-card">
    <h2>ğŸ“„ Dokument hochladen</h2>
    <input 
      type="file" 
      class="file-input" 
      (change)="onFileSelected($event)"
      accept=".pdf,.txt,.doc,.docx">
    
    <div class="file-info" *ngIf="selectedFile">
      <span>ğŸ“ {{ selectedFile.name }}</span>
      <span>{{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB</span>
    </div>

    <button 
      class="upload-btn" 
      (click)="uploadDocument()" 
      [disabled]="!selectedFile || isProcessing">
      {{ isProcessing ? 'â³ Analysiere...' : 'ğŸš€ Dokument analysieren' }}
    </button>
  </div>

  <!-- Text-Analyse Sektion -->
  <div class="upload-card">
    <h2>âœï¸ Text direkt analysieren</h2>
    <textarea 
      class="text-input" 
      [(ngModel)]="inputText" 
      placeholder="FÃ¼gen Sie hier Ihren Text ein, den Sie analysieren mÃ¶chten..."
      maxlength="5000">
    </textarea>
    
    <div class="char-counter">
      {{ inputText.length }}/5000 Zeichen
    </div>

    <button 
      class="upload-btn" 
      (click)="analyzeText()" 
      [disabled]="!inputText.trim() || isProcessing">
      {{ isProcessing ? 'â³ Analysiere...' : 'ğŸ” Text analysieren' }}
    </button>
  </div>

  <!-- Fortschritt -->
  <div class="progress-section" *ngIf="isProcessing">
    <h3>ğŸ”„ Analyse lÃ¤uft...</h3>
    <p>Bitte warten Sie, wÃ¤hrend Ihr Dokument analysiert wird.</p>
    <div class="progress-bar">
      <div class="progress-fill"></div>
    </div>
  </div>

  <!-- Fehler-Anzeige -->
  <div class="error-card" *ngIf="uploadError">
    <div class="error-content">
      <strong>âŒ Fehler:</strong>
      <p>{{ uploadError }}</p>
    </div>
  </div>

  <!-- Analyse-Ergebnisse -->
  <div class="results-section" *ngIf="analysisResult && !isProcessing">
    <h3>ğŸ“Š Analyse-Ergebnis</h3>

    <!-- Zusammenfassung -->
    <div class="result-card" *ngIf="analysisResult.summary">
      <h4>ğŸ“ Zusammenfassung</h4>
      <p>{{ analysisResult.summary }}</p>
    </div>

    <!-- SchlÃ¼sselwÃ¶rter -->
    <div class="result-card" *ngIf="analysisResult.keywords?.length">
      <h4>ğŸ” SchlÃ¼sselwÃ¶rter</h4>
      <ul>
        <li *ngFor="let keyword of analysisResult.keywords">{{ keyword }}</li>
      </ul>
    </div>

    <!-- Technologie-Empfehlungen -->
    <div class="result-card" *ngIf="analysisResult.suggestedComponents?.length">
      <h4>ğŸ’» Technologie-Empfehlungen</h4>
      <ul>
        <li *ngFor="let tech of analysisResult.suggestedComponents">{{ tech }}</li>
      </ul>
    </div>

    <!-- Einfaches Feedback -->
    <div class="simple-feedback">
      <h4>ğŸ’¬ War diese Analyse hilfreich?</h4>
      <div class="feedback-buttons">
        <button class="btn-helpful" (click)="submitQuickFeedback(true)">
          ğŸ‘ Ja, hilfreich
        </button>
        <button class="btn-not-helpful" (click)="submitQuickFeedback(false)">
          ğŸ‘ Nicht hilfreich
        </button>
      </div>
    </div>
  </div>

  <!-- Info-Box -->
  <div class="info-box">
    <h3>â„¹ï¸ UnterstÃ¼tzte Funktionen</h3>
    <ul>
      <li>ğŸ“„ Dokument-Upload (PDF, TXT, DOC, DOCX)</li>
      <li>âœï¸ Direkte Text-Analyse</li>
      <li>ğŸ“ Automatische Zusammenfassung</li>
      <li>ğŸ” SchlÃ¼sselwort-Extraktion</li>
      <li>ğŸ’» Technologie-Empfehlungen</li>
    </ul>
  </div>
</div>
